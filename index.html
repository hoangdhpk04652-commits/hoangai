import React, { useState, useEffect, useRef } from 'react';
import { 
  Search, User, Settings, BarChart2, FileText, 
  Shield, Upload, Globe, Bell, Menu, X, Cpu, 
  Database, Layout, Image as ImageIcon, LogOut 
} from 'lucide-react';

/* PROJECT: AI TECH PORTFOLIO & CMS SYSTEM
  OWNER: Đặng Huy Hoàng - PK04652
  SCHOOL: FPT Polytechnic - Buôn Ma Thuột
*/

export default function AITechPortfolio() {
  const [currentView, setCurrentView] = useState('home'); // home, search, admin
  const [userRole, setUserRole] = useState('guest'); // guest, admin, editor
  const [isSidebarOpen, setIsSidebarOpen] = useState(false);

  // --- MOCK DATA ---
  const profile = {
    name: "Đặng Huy Hoàng",
    id: "PK04652",
    school: "FPT Polytechnic",
    location: "TP. Buôn Ma Thuột",
    role: "AI Engineer & Fullstack Developer",
    avatar: "https://ui-avatars.com/api/?name=Huy+Hoang&background=0ea5e9&color=fff"
  };

  // --- HANDLERS ---
  const toggleRole = () => {
    setUserRole(prev => prev === 'admin' ? 'guest' : 'admin');
    if (userRole === 'admin') setCurrentView('home'); // Nếu thoát admin thì về home
  };

  return (
    <div className="min-h-screen bg-slate-950 text-slate-200 font-sans flex overflow-hidden selection:bg-cyan-500 selection:text-white">
      
      {/* SIDEBAR NAVIGATION */}
      <aside className={`fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 border-r border-slate-800 transform transition-transform duration-300 ease-in-out ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'} md:relative md:translate-x-0`}>
        <div className="p-6 flex items-center justify-center border-b border-slate-800">
          <div className="flex items-center gap-3">
            <div className="w-10 h-10 rounded-lg bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-bold shadow-lg shadow-cyan-500/20">
              <Cpu size={24} />
            </div>
            <div>
              <h1 className="font-bold text-lg tracking-wider text-white">HOANG<span className="text-cyan-400">.AI</span></h1>
              <p className="text-[10px] text-slate-500 uppercase tracking-widest">System PK04652</p>
            </div>
          </div>
        </div>

        <nav className="mt-8 px-4 space-y-2">
          <NavItem icon={Layout} label="Trang chủ" active={currentView === 'home'} onClick={() => setCurrentView('home')} />
          <NavItem icon={Search} label="Tra cứu AI" active={currentView === 'search'} onClick={() => setCurrentView('search')} />
          
          <div className="pt-6 pb-2 pl-4 text-xs font-semibold text-slate-500 uppercase tracking-wider">Hệ thống</div>
          
          {userRole === 'admin' ? (
            <>
              <NavItem icon={BarChart2} label="Dashboard & Thống kê" active={currentView === 'admin_stats'} onClick={() => setCurrentView('admin_stats')} />
              <NavItem icon={FileText} label="Quản trị nội dung (CMS)" active={currentView === 'admin_cms'} onClick={() => setCurrentView('admin_cms')} />
              <NavItem icon={Globe} label="Cấu hình SEO" active={currentView === 'admin_seo'} onClick={() => setCurrentView('admin_seo')} />
              <NavItem icon={Shield} label="Phân quyền User" active={currentView === 'admin_users'} onClick={() => setCurrentView('admin_users')} />
            </>
          ) : (
            <div className="px-4 py-3 bg-slate-800/50 rounded-lg border border-slate-700 text-xs text-slate-400">
              <p className="mb-2">Bạn đang xem với tư cách Khách.</p>
              <button onClick={toggleRole} className="text-cyan-400 hover:underline">Đăng nhập Admin</button>
            </div>
          )}
        </nav>

        <div className="absolute bottom-0 w-full p-4 border-t border-slate-800">
          <div className="flex items-center gap-3 p-2 rounded-lg bg-slate-800/50">
            <img src={profile.avatar} alt="Avatar" className="w-8 h-8 rounded-full border border-cyan-500" />
            <div className="flex-1 min-w-0">
              <p className="text-sm font-medium text-white truncate">{profile.name}</p>
              <p className="text-xs text-slate-500 truncate">{userRole === 'admin' ? 'Super Admin' : 'Guest Viewer'}</p>
            </div>
            <button onClick={toggleRole} className="p-1 hover:text-red-400 transition-colors" title="Chuyển vai trò">
              <LogOut size={16} />
            </button>
          </div>
        </div>
      </aside>

      {/* MAIN CONTENT */}
      <main className="flex-1 flex flex-col h-screen overflow-hidden relative">
        {/* MOBILE HEADER */}
        <header className="md:hidden h-16 bg-slate-900 border-b border-slate-800 flex items-center justify-between px-4 z-40">
          <button onClick={() => setIsSidebarOpen(!isSidebarOpen)} className="text-slate-400">
            {isSidebarOpen ? <X /> : <Menu />}
          </button>
          <span className="font-bold text-white">HOANG.AI</span>
          <div className="w-8"></div>
        </header>

        <div className="flex-1 overflow-y-auto bg-slate-950 p-4 md:p-8 scroll-smooth">
          {/* VIEW SWITCHER */}
          {currentView === 'home' && <HomeView profile={profile} onSearchClick={() => setCurrentView('search')} />}
          {currentView === 'search' && <AISearchView profile={profile} />}
          
          {/* ADMIN VIEWS */}
          {userRole === 'admin' && (
            <>
              {currentView === 'admin_stats' && <AdminStatsView />}
              {currentView === 'admin_cms' && <AdminCMSView />}
              {currentView === 'admin_seo' && <AdminSEOView />}
              {currentView === 'admin_users' && <AdminUsersView />}
            </>
          )}

          {/* Fallback if user is guest but tries to access admin */}
          {userRole !== 'admin' && currentView.startsWith('admin') && (
            <div className="flex flex-col items-center justify-center h-full text-center">
              <Shield size={64} className="text-red-500 mb-4" />
              <h2 className="text-2xl font-bold text-white">Truy cập bị từ chối</h2>
              <p className="text-slate-400 mt-2">Bạn cần quyền Admin để truy cập khu vực này.</p>
              <button onClick={toggleRole} className="mt-6 px-6 py-2 bg-cyan-600 text-white rounded-full hover:bg-cyan-500 transition-all">
                Chuyển sang chế độ Admin (Demo)
              </button>
            </div>
          )}
        </div>
      </main>

    </div>
  );
}

/* --- COMPONENTS --- */

function NavItem({ icon: Icon, label, active, onClick }) {
  return (
    <button 
      onClick={onClick}
      className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 
        ${active 
          ? 'bg-cyan-500/10 text-cyan-400 border border-cyan-500/20 shadow-[0_0_15px_rgba(6,182,212,0.15)]' 
          : 'text-slate-400 hover:text-white hover:bg-slate-800'}`}
    >
      <Icon size={18} />
      <span>{label}</span>
    </button>
  );
}

/* --- VIEW: HOME --- */
function HomeView({ profile, onSearchClick }) {
  return (
    <div className="max-w-4xl mx-auto pt-10 animate-fadeIn">
      {/* Hero Profile */}
      <div className="relative mb-16">
        <div className="absolute -top-20 -left-20 w-64 h-64 bg-cyan-500/20 rounded-full blur-3xl opacity-50 pointer-events-none"></div>
        <div className="absolute top-20 -right-20 w-80 h-80 bg-purple-500/20 rounded-full blur-3xl opacity-30 pointer-events-none"></div>

        <div className="relative z-10 flex flex-col md:flex-row items-center gap-8 md:gap-12">
          <div className="relative group">
            <div className="absolute inset-0 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full blur opacity-75 group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-tilt"></div>
            <img 
              src={profile.avatar} 
              alt="Profile" 
              className="relative w-40 h-40 rounded-full object-cover border-4 border-slate-900 shadow-2xl"
            />
            <div className="absolute bottom-2 right-2 bg-green-500 w-4 h-4 rounded-full border-2 border-slate-900"></div>
          </div>

          <div className="text-center md:text-left">
            <div className="inline-block px-3 py-1 mb-3 text-xs font-semibold tracking-wider text-cyan-400 uppercase bg-cyan-500/10 rounded-full border border-cyan-500/20">
              FPT Polytechnic Student
            </div>
            <h1 className="text-4xl md:text-6xl font-black text-white mb-2 tracking-tight">
              {profile.name}
            </h1>
            <p className="text-xl text-slate-400 mb-6 font-light">{profile.id} • {profile.location}</p>
            <p className="text-slate-300 max-w-lg leading-relaxed mb-8">
              Chuyên gia phát triển Website & Công nghệ AI. Đam mê xây dựng các hệ thống thông minh, tối ưu trải nghiệm người dùng và tích hợp công nghệ tương lai.
            </p>
            
            <div className="flex flex-wrap gap-4 justify-center md:justify-start">
              <button onClick={onSearchClick} className="px-8 py-3 bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-bold rounded-xl shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 transform hover:-translate-y-1 transition-all flex items-center gap-2">
                <Search size={20} />
                Tra cứu thông tin AI
              </button>
              <button className="px-8 py-3 bg-slate-800 text-white font-semibold rounded-xl border border-slate-700 hover:bg-slate-700 transition-all">
                Xem CV chi tiết
              </button>
            </div>
          </div>
        </div>
      </div>

      {/* Features Showcase */}
      <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
        <FeatureCard 
          icon={Cpu} 
          title="AI Integration" 
          desc="Tích hợp trí tuệ nhân tạo để phân tích dữ liệu và trả lời tự động." 
          color="cyan"
        />
        <FeatureCard 
          icon={Layout} 
          title="Modern UI/UX" 
          desc="Thiết kế giao diện người dùng tối ưu, chuẩn responsive trên mọi thiết bị." 
          color="purple"
        />
        <FeatureCard 
          icon={Database} 
          title="Smart CMS" 
          desc="Hệ thống quản trị nội dung mạnh mẽ, bảo mật và dễ sử dụng." 
          color="emerald"
        />
      </div>
    </div>
  );
}

function FeatureCard({ icon: Icon, title, desc, color }) {
  const colors = {
    cyan: "text-cyan-400 bg-cyan-400/10 border-cyan-400/20",
    purple: "text-purple-400 bg-purple-400/10 border-purple-400/20",
    emerald: "text-emerald-400 bg-emerald-400/10 border-emerald-400/20",
  };
  return (
    <div className={`p-6 rounded-2xl border ${colors[color].split(' ')[2]} bg-slate-900/50 backdrop-blur-sm hover:bg-slate-800 transition-colors`}>
      <div className={`w-12 h-12 rounded-lg ${colors[color]} flex items-center justify-center mb-4`}>
        <Icon size={24} />
      </div>
      <h3 className="text-lg font-bold text-white mb-2">{title}</h3>
      <p className="text-sm text-slate-400 leading-relaxed">{desc}</p>
    </div>
  );
}

/* --- VIEW: AI SEARCH --- */
function AISearchView({ profile }) {
  const [query, setQuery] = useState('');
  const [isSearching, setIsSearching] = useState(false);
  const [messages, setMessages] = useState([
    { type: 'ai', content: `Xin chào! Tôi là trợ lý AI của ${profile.name}. Tôi có thể giúp bạn tra cứu thông tin gì về công nghệ, hoặc về hồ sơ của tác giả?` }
  ]);
  const endRef = useRef(null);

  const handleSearch = (e) => {
    e.preventDefault();
    if (!query.trim()) return;

    // Add user message
    const newMsgs = [...messages, { type: 'user', content: query }];
    setMessages(newMsgs);
    setQuery('');
    setIsSearching(true);

    // Simulate AI response
    setTimeout(() => {
      let response = "Tôi đã tìm thấy thông tin liên quan trên hệ thống dữ liệu FPT Polytechnic.";
      
      if (query.toLowerCase().includes('đặng huy hoàng') || query.includes('pk04652')) {
        response = `**Kết quả tra cứu hồ sơ:**\n- Họ tên: Đặng Huy Hoàng\n- MSSV: PK04652\n- Chuyên ngành: Ứng dụng phần mềm / AI\n- GPA: 3.8/4.0 (Giả định)\n- Dự án tiêu biểu: AI Portfolio System.`;
      } else if (query.toLowerCase().includes('seo') || query.includes('cms')) {
        response = "Hệ thống CMS của website này được tích hợp module SEO tự động, cho phép tùy chỉnh thẻ Meta Title, Description và Open Graph tags để tối ưu hóa hiển thị trên Google và Facebook.";
      } else {
        response = `Dựa trên từ khóa "${query}", AI đề xuất các tài liệu sau:\n1. Giáo trình AI cơ bản (PDF)\n2. Hướng dẫn ReactJS cho người mới bắt đầu\n3. Cấu trúc dữ liệu và giải thuật.\n\nBạn có muốn tải xuống không?`;
      }

      setMessages(prev => [...prev, { type: 'ai', content: response }]);
      setIsSearching(false);
    }, 1500);
  };

  useEffect(() => {
    endRef.current?.scrollIntoView({ behavior: "smooth" });
  }, [messages]);

  return (
    <div className="max-w-3xl mx-auto h-[calc(100vh-100px)] flex flex-col">
      <div className="flex-1 overflow-y-auto space-y-4 p-4 scrollbar-hide">
        {messages.map((msg, idx) => (
          <div key={idx} className={`flex ${msg.type === 'user' ? 'justify-end' : 'justify-start'}`}>
            <div className={`max-w-[80%] p-4 rounded-2xl ${
              msg.type === 'user' 
                ? 'bg-cyan-600 text-white rounded-br-none' 
                : 'bg-slate-800 text-slate-200 border border-slate-700 rounded-bl-none'
            }`}>
              {msg.type === 'ai' && <div className="flex items-center gap-2 mb-2 text-cyan-400 text-xs font-bold uppercase"><Cpu size={12}/> AI System</div>}
              <div className="whitespace-pre-line text-sm leading-relaxed">{msg.content}</div>
            </div>
          </div>
        ))}
        {isSearching && (
          <div className="flex justify-start">
            <div className="bg-slate-800 p-4 rounded-2xl rounded-bl-none border border-slate-700 flex gap-2 items-center text-slate-400 text-sm">
              <span className="w-2 h-2 bg-cyan-400 rounded-full animate-bounce"></span>
              <span className="w-2 h-2 bg-cyan-400 rounded-full animate-bounce delay-100"></span>
              <span className="w-2 h-2 bg-cyan-400 rounded-full animate-bounce delay-200"></span>
              Đang phân tích dữ liệu...
            </div>
          </div>
        )}
        <div ref={endRef}></div>
      </div>

      <div className="p-4 bg-slate-900 border-t border-slate-800">
        <form onSubmit={handleSearch} className="relative">
          <input 
            type="text" 
            value={query}
            onChange={(e) => setQuery(e.target.value)}
            placeholder="Nhập câu hỏi để tra cứu..." 
            className="w-full bg-slate-950 border border-slate-700 text-white rounded-xl py-4 pl-5 pr-12 focus:outline-none focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"
          />
          <button type="submit" disabled={!query.trim() || isSearching} className="absolute right-3 top-3 p-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-500 disabled:opacity-50 disabled:hover:bg-cyan-600 transition-colors">
            <ArrowRightIcon />
          </button>
        </form>
      </div>
    </div>
  );
}

function ArrowRightIcon() {
  return (
    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
  )
}

/* --- VIEW: ADMIN STATS (Báo cáo & Thống kê) --- */
function AdminStatsView() {
  return (
    <div className="space-y-6 max-w-5xl mx-auto">
      <div className="flex justify-between items-end">
        <div>
          <h2 className="text-2xl font-bold text-white">Dashboard Tổng quan</h2>
          <p className="text-slate-400 text-sm">Cập nhật lần cuối: Vừa xong</p>
        </div>
        <button className="px-4 py-2 bg-slate-800 text-slate-300 text-sm rounded-lg hover:bg-slate-700">Xuất báo cáo PDF</button>
      </div>

      {/* Stats Cards */}
      <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
        <StatCard title="Tổng truy cập" value="12,450" change="+12%" icon={User} color="blue" />
        <StatCard title="Tìm kiếm AI" value="3,210" change="+24%" icon={Search} color="cyan" />
        <StatCard title="Thời gian trang" value="4m 32s" change="+5%" icon={ClockIcon} color="green" />
        <StatCard title="Tỷ lệ thoát" value="24.5%" change="-2%" icon={LogOut} color="red" />
      </div>

      {/* Chart Simulation */}
      <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <div className="lg:col-span-2 bg-slate-900 border border-slate-800 rounded-xl p-6">
          <h3 className="font-bold text-white mb-6 flex items-center gap-2">
            <BarChart2 size={18} className="text-cyan-400"/> Biểu đồ truy cập (7 ngày qua)
          </h3>
          <div className="h-64 flex items-end justify-between gap-2">
            {[40, 65, 45, 80, 55, 90, 75].map((h, i) => (
              <div key={i} className="w-full bg-slate-800 rounded-t-lg relative group hover:bg-cyan-900/50 transition-colors">
                <div 
                  className="absolute bottom-0 left-0 right-0 bg-cyan-500/80 rounded-t-lg mx-1 transition-all duration-500 group-hover:bg-cyan-400"
                  style={{ height: `${h}%` }}
                ></div>
                <div className="absolute -top-8 left-1/2 -translate-x-1/2 bg-white text-slate-900 text-xs font-bold px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity">
                  {h * 10}
                </div>
              </div>
            ))}
          </div>
          <div className="flex justify-between mt-4 text-xs text-slate-500 font-mono">
            <span>T2</span><span>T3</span><span>T4</span><span>T5</span><span>T6</span><span>T7</span><span>CN</span>
          </div>
        </div>

        <div className="bg-slate-900 border border-slate-800 rounded-xl p-6">
          <h3 className="font-bold text-white mb-4">Thiết bị truy cập</h3>
          <div className="space-y-4">
            <ProgressBar label="Mobile" percent={65} color="bg-purple-500" />
            <ProgressBar label="Desktop" percent={30} color="bg-cyan-500" />
            <ProgressBar label="Tablet" percent={5} color="bg-orange-500" />
          </div>
          
          <div className="mt-8 p-4 bg-slate-800/50 rounded-lg border border-slate-700">
            <h4 className="text-sm font-bold text-white mb-2">Gợi ý AI Optimization</h4>
            <p className="text-xs text-slate-400">Lượng truy cập Mobile tăng cao. Cần tối ưu hóa tốc độ tải trang và giao diện Search trên màn hình nhỏ.</p>
          </div>
        </div>
      </div>
    </div>
  );
}

function StatCard({ title, value, change, icon: Icon, color }) {
  const colors = {
    blue: "text-blue-400 bg-blue-400/10",
    cyan: "text-cyan-400 bg-cyan-400/10",
    green: "text-emerald-400 bg-emerald-400/10",
    red: "text-rose-400 bg-rose-400/10",
  };
  return (
    <div className="bg-slate-900 border border-slate-800 p-5 rounded-xl hover:border-slate-700 transition-all">
      <div className="flex justify-between items-start mb-4">
        <div className={`p-2 rounded-lg ${colors[color]}`}>
          <Icon size={20} />
        </div>
        <span className={`text-xs font-bold px-2 py-1 rounded-full ${change.startsWith('+') ? 'text-emerald-400 bg-emerald-400/10' : 'text-rose-400 bg-rose-400/10'}`}>
          {change}
        </span>
      </div>
      <h3 className="text-2xl font-bold text-white">{value}</h3>
      <p className="text-sm text-slate-500">{title}</p>
    </div>
  );
}

function ProgressBar({ label, percent, color }) {
  return (
    <div>
      <div className="flex justify-between text-xs mb-1">
        <span className="text-slate-300">{label}</span>
        <span className="text-slate-400">{percent}%</span>
      </div>
      <div className="w-full bg-slate-800 rounded-full h-2">
        <div className={`h-2 rounded-full ${color}`} style={{ width: `${percent}%` }}></div>
      </div>
    </div>
  );
}

function ClockIcon({size}) {
   return <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
}

/* --- VIEW: ADMIN CMS (Quản trị nội dung) --- */
function AdminCMSView() {
  return (
    <div className="max-w-4xl mx-auto space-y-8">
       <div className="flex justify-between items-center">
          <h2 className="text-2xl font-bold text-white">Quản lý nội dung (CMS)</h2>
          <button className="flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg text-sm font-medium transition-colors">
            <Upload size={16} /> Thêm bài viết mới
          </button>
        </div>

        <div className="bg-slate-900 border border-slate-800 rounded-xl overflow-hidden">
          <table className="w-full text-left text-sm">
            <thead className="bg-slate-800/50 text-slate-400 uppercase text-xs">
              <tr>
                <th className="px-6 py-4">Tiêu đề</th>
                <th className="px-6 py-4">Trạng thái</th>
                <th className="px-6 py-4">Tác giả</th>
                <th className="px-6 py-4">Ngày đăng</th>
                <th className="px-6 py-4 text-right">Hành động</th>
              </tr>
            </thead>
            <tbody className="divide-y divide-slate-800">
              <CMSRow title="Giới thiệu về Đặng Huy Hoàng" status="Published" author="HoangAdmin" date="12/10/2023" />
              <CMSRow title="Xu hướng AI năm 2024" status="Draft" author="Editor01" date="15/10/2023" />
              <CMSRow title="FPT Polytechnic - Môi trường học tập" status="Published" author="HoangAdmin" date="20/10/2023" />
              <CMSRow title="Cách tích hợp API vào Website" status="Review" author="Editor02" date="22/10/2023" />
            </tbody>
          </table>
        </div>

        {/* Media Upload Section Simulation */}
        <div className="bg-slate-900 border border-slate-800 rounded-xl p-6 border-dashed border-2 border-slate-700 hover:border-cyan-500/50 transition-colors cursor-pointer group">
            <div className="flex flex-col items-center justify-center py-8">
              <div className="w-16 h-16 bg-slate-800 rounded-full flex items-center justify-center mb-4 group-hover:bg-slate-700 transition-colors">
                <ImageIcon size={32} className="text-slate-400 group-hover:text-cyan-400" />
              </div>
              <h3 className="text-lg font-medium text-white mb-2">Tải lên Logo hoặc Hình ảnh</h3>
              <p className="text-slate-500 text-sm max-w-sm text-center">Kéo thả file vào đây hoặc click để chọn từ máy tính. Hỗ trợ JPG, PNG, WEBP (Max 5MB).</p>
            </div>
        </div>
    </div>
  );
}

function CMSRow({ title, status, author, date }) {
  const statusStyles = {
    Published: "bg-emerald-400/10 text-emerald-400 border-emerald-400/20",
    Draft: "bg-slate-700 text-slate-300 border-slate-600",
    Review: "bg-yellow-400/10 text-yellow-400 border-yellow-400/20"
  };
  return (
    <tr className="hover:bg-slate-800/50 transition-colors">
      <td className="px-6 py-4 font-medium text-white">{title}</td>
      <td className="px-6 py-4">
        <span className={`text-xs px-2 py-1 rounded border ${statusStyles[status]}`}>{status}</span>
      </td>
      <td className="px-6 py-4 text-slate-400">{author}</td>
      <td className="px-6 py-4 text-slate-500">{date}</td>
      <td className="px-6 py-4 text-right">
        <button className="text-cyan-400 hover:text-cyan-300 mr-3">Edit</button>
        <button className="text-rose-400 hover:text-rose-300">Delete</button>
      </td>
    </tr>
  );
}

/* --- VIEW: ADMIN SEO (Tối ưu hóa tìm kiếm) --- */
function AdminSEOView() {
  return (
    <div className="max-w-3xl mx-auto">
      <h2 className="text-2xl font-bold text-white mb-6">Cấu hình SEO (Search Engine Optimization)</h2>
      
      <div className="bg-slate-900 border border-slate-800 rounded-xl p-6 space-y-6">
        <div className="space-y-2">
          <label className="text-sm font-medium text-slate-300">Meta Title</label>
          <div className="flex gap-2">
             <input type="text" defaultValue="Đặng Huy Hoàng | AI Engineer & Portfolio" className="flex-1 bg-slate-950 border border-slate-700 rounded-lg px-4 py-2 text-white focus:border-cyan-500 outline-none" />
             <span className="text-xs text-emerald-400 flex items-center">Tốt (60 chars)</span>
          </div>
        </div>

        <div className="space-y-2">
          <label className="text-sm font-medium text-slate-300">Meta Description</label>
          <textarea rows="3" defaultValue="Trang web cá nhân của Đặng Huy Hoàng (PK04652) - Sinh viên FPT Polytechnic. Chuyên về phát triển AI, Web App và giải pháp công nghệ tại Buôn Ma Thuột." className="w-full bg-slate-950 border border-slate-700 rounded-lg px-4 py-2 text-white focus:border-cyan-500 outline-none"></textarea>
        </div>

        <div className="space-y-2">
          <label className="text-sm font-medium text-slate-300">Keywords</label>
          <input type="text" defaultValue="AI, Portfolio, FPT Polytechnic, Đặng Huy Hoàng, PK04652, Web Developer" className="w-full bg-slate-950 border border-slate-700 rounded-lg px-4 py-2 text-white focus:border-cyan-500 outline-none" />
        </div>

        <div className="pt-4 border-t border-slate-800 flex items-center justify-between">
            <div className="flex items-center gap-2 text-sm text-slate-400">
               <div className="w-3 h-3 rounded-full bg-emerald-500"></div> Sitemap.xml đang hoạt động
            </div>
            <button className="px-6 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-500 font-medium">Lưu cấu hình</button>
        </div>
      </div>
      
      {/* Google Preview Simulation */}
      <div className="mt-8">
        <h3 className="text-sm font-bold text-slate-400 uppercase tracking-wider mb-4">Xem trước kết quả tìm kiếm (Google)</h3>
        <div className="bg-white p-4 rounded-xl max-w-2xl border-l-4 border-blue-500">
            <div className="flex items-center gap-2 mb-1">
                <div className="w-6 h-6 bg-slate-200 rounded-full flex items-center justify-center text-xs text-slate-600">H</div>
                <div className="text-sm text-slate-800">hoangai-portfolio.com › profile</div>
                <div className="text-xs text-slate-500">▼</div>
            </div>
            <h3 className="text-xl text-blue-800 hover:underline cursor-pointer font-medium truncate">Đặng Huy Hoàng | AI Engineer & Portfolio</h3>
            <p className="text-sm text-slate-600 mt-1 line-clamp-2">
              Trang web cá nhân của <b>Đặng Huy Hoàng (PK04652)</b> - Sinh viên FPT Polytechnic. Chuyên về phát triển AI, Web App và giải pháp công nghệ tại Buôn Ma Thuột...
            </p>
        </div>
      </div>
    </div>
  );
}

/* --- VIEW: ADMIN USERS (Phân quyền) --- */
function AdminUsersView() {
  return (
    <div className="max-w-4xl mx-auto">
      <h2 className="text-2xl font-bold text-white mb-6">Quản lý người dùng & Phân quyền</h2>
      <div className="bg-slate-900 border border-slate-800 rounded-xl overflow-hidden">
        <table className="w-full text-left text-sm">
           <thead className="bg-slate-800/50 text-slate-400 uppercase text-xs">
              <tr>
                <th className="px-6 py-4">User</th>
                <th className="px-6 py-4">Email</th>
                <th className="px-6 py-4">Vai trò</th>
                <th className="px-6 py-4">Trạng thái</th>
                <th className="px-6 py-4 text-right">Actions</th>
              </tr>
           </thead>
           <tbody className="divide-y divide-slate-800">
              <tr>
                <td className="px-6 py-4 flex items-center gap-3">
                   <div className="w-8 h-8 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold">H</div>
                   <span className="font-bold text-white">Đặng Huy Hoàng</span>
                </td>
                <td className="px-6 py-4 text-slate-400">hoangpk04652@fpt.edu.vn</td>
                <td className="px-6 py-4"><span className="px-2 py-1 rounded bg-purple-500/10 text-purple-400 text-xs border border-purple-500/20 font-bold">Super Admin</span></td>
                <td className="px-6 py-4 text-emerald-400 text-xs">● Online</td>
                <td className="px-6 py-4 text-right text-slate-500">Locked</td>
              </tr>
              <tr>
                <td className="px-6 py-4 flex items-center gap-3">
                   <div className="w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-white font-bold">T</div>
                   <span className="text-slate-200">Test Editor</span>
                </td>
                <td className="px-6 py-4 text-slate-400">editor@demo.com</td>
                <td className="px-6 py-4">
                  <select className="bg-slate-950 border border-slate-700 text-slate-300 text-xs rounded px-2 py-1 outline-none focus:border-cyan-500">
                    <option>Editor</option>
                    <option>Viewer</option>
                  </select>
                </td>
                <td className="px-6 py-4 text-slate-500 text-xs">● Offline</td>
                <td className="px-6 py-4 text-right"><button className="text-rose-400 hover:text-rose-300">Xóa</button></td>
              </tr>
           </tbody>
        </table>
      </div>
      <p className="mt-4 text-slate-500 text-xs">* Super Admin có quyền truy cập toàn bộ hệ thống CMS, SEO và Analytics.</p>
    </div>
  );
}
